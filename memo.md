# 工夫したこと

##全体を通して
* 処理のブロック区切りで空行を入れるように気をつけた
* 変数名がどういう意味を持っているかを考えながら名前をつけた
* 関数の見た目の書き方をなるべく統一するように気をつけた

## 仕様1
* できるだけ最小限のコード数で実装した

* やっぱりreturnをしたほうがいいと思ったので、returnを追加した。


## 仕様2
* 具体的なコマンドを書いた


## 仕様3
* エラー処理をコードの上部にまとめた。
** 例外的なプログラムの終了地点を最初に置きたかった。

* ファイルのパスをargvではなく別の変数に置き換えた。
** 一行で何をやっているかわかるように。


## 仕様4
* すでに仕様3の段階で実装してしまっていた……

## 仕様5
* IDは行番号とする
* 空行はIDを振らない
* ループを抜けるような処理は、処理を追いかけるときに後のコードを読まなくてもいいように最初に書く
* インクリメントの処理を、最初はprintfの中で書いてしまっていたけど、下の行に移した。
** 処理の順番を追いかけやすいと思ったので。

## コード読み
* コードブロックを意識して空行があり、コメントが入っていてわかりやすい
* 変数名がぱっと見てわかる内容になっている
* エラー処理にstderrを使っていてわかりやすい
## 仕様5+
* スペースの開け方を統一しました。以下に例を示します。[]に示す部分にスペースを意識的に入れてます。逆に、*に示すところのスペースは意図的にはずしています。
```
if[]([]expr[])[]{
    func*([]arg0,[]arg1,...argn[]);
}
```
* コードを書く際に、記法を基本的に踏襲するように気をつけました。
  具体的には、スペースの開け方、中括弧で改行するかどうか、インデントの数を一致させるようにしました。

## 仕様6
* recipeをfreeするときに値をセットするようにすることで2重freeの危険性を回避
* 関数名を以下のようにするルールを適用
```
${target object}_${verb}(_${object})()
```
** でも少し冗長に感じる  
   たとえば`recipe_lines_print_specified_id( recipes, id );`で言えば、specifiedがなくても良さそうに見えるけど無いとidと一緒にプリントする以上の情報はない。引数で指定しているし大丈夫っちゃ大丈夫。うーん。
** 結局↑はidは引数に取ってるからわかるでしょ、ということでprintだけにした
**`recipe_lines_print()`中で、コードパスの短い方をifの先に持ってきた

## 仕様7
* 名前だけでなくURLも保持する必要が出てきたので構造体を宣言
* Cだけど、オブジェクト指向っぽく書き始めたのでcreateするところでは自分のオブジェクトをthisと命名
* fscanfで簡単に文字列処理をしちゃった
